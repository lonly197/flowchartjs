webpackJsonp([1],{"5mek":function(e,t){},"9gGt":function(e,t,n){"use strict";function a(e){n("pGoM")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("Ovdt"),r=n.n(o),s=n("Lqlx"),i=n("VU/8"),l=a,c=i(r.a,s.a,!1,l,"data-v-0c720c35",null);t.default=c.exports},"9iUS":function(e,t,n){"use strict";function a(e){n("TwGY")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("B2UH"),r=n.n(o),s=n("ngp1"),i=n("VU/8"),l=a,c=i(r.a,s.a,!1,l,null,null);t.default=c.exports},B2UH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Footer"}},GgDs:function(e,t,n){"use strict";function a(e){n("5mek")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("JBW2"),r=n.n(o),s=n("T8B5"),i=n("VU/8"),l=a,c=i(r.a,s.a,!1,l,null,null);t.default=c.exports},JBW2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Header"}},Lqlx:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",[n("el-col",{attrs:{span:4}},[n("h3",[e._v("Add Node")]),e._v(" "),n("el-button",{staticClass:"flow-btn",attrs:{type:"primary",plain:""},on:{click:function(t){e.addNode("startNode",0)}}},[e._v("Start Node")]),e._v(" "),n("el-button",{staticClass:"flow-btn",attrs:{type:"primary",plain:""},on:{click:function(t){e.addNode("processNode",1)}}},[e._v("Process Node")]),e._v(" "),n("el-button",{staticClass:"flow-btn",attrs:{type:"primary",plain:""},on:{click:function(t){e.addNode("endNode",2)}}},[e._v("End Node")])],1),e._v(" "),n("el-col",{attrs:{span:20}},[n("div",{ref:"flow-container",staticClass:"flow-container"})])],1),e._v(" "),n("el-row",[n("el-col",{attrs:{span:20}},[n("h3",[e._v("Edit Chart")]),e._v(" "),n("el-button",{staticClass:"flow-btn",attrs:{type:"success",round:""},on:{click:e.saveChart}},[e._v("Save Chart")]),e._v(" "),n("el-button",{staticClass:"flow-btn",attrs:{type:"warning",round:""},on:{click:e.loadChart}},[e._v("Load Chart")]),e._v(" "),n("el-button",{staticClass:"flow-btn",attrs:{type:"danger",round:""},on:{click:e.clearChart}},[e._v("Clear Chart")])],1)],1),e._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:14},placeholder:"Please Inpute The Json Config Of FlowChart"},model:{value:e.chartConfig,callback:function(t){e.chartConfig=t},expression:"chartConfig"}})],1)],1)],1)},o=[],r={render:a,staticRenderFns:o};t.a=r},M93x:function(e,t,n){"use strict";function a(e){n("cBx5")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("xJD8"),r=n.n(o),s=n("f/wO"),i=n("VU/8"),l=a,c=i(r.a,s.a,!1,l,"data-v-43ed7a9a",null);t.default=c.exports},NHnr:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n("7+uW"),r=a(o),s=n("M93x"),i=a(s),l=n("zL8q"),c=a(l);n("tvR6");var u=n("YaEn"),d=a(u);r.default.config.productionTip=!1,r.default.use(c.default),new r.default({el:"#app",router:d.default,template:"<App/>",components:{App:i.default}})},Ovdt:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("Rn3S"),r=a(o),s=n("P0XF"),i=a(s);t.default={name:"Demo",data:function(){return{nodeConfig:{basicX:250,basicY:20,endY:350,newX:50,newY:50},chart:null,nodes:[],chartConfig:""}},methods:{addNode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.chart){this.nodes.push(e);var n=this.nodeConfig.basicY*this.nodes.length;this.chart.addNode(e,this.nodeConfig.basicX,n,{class:"node",data:{name:e},nodeType:t,id:i.default.getUUID})}},saveChart:function(){this.chart?(this.chartConfig=this.chart.toJson(),this.$message.success("The FlowChart Save Success!")):this.$message.error("The FlowChart Has Not Be Initiald")},loadChart:function(){this.chart?(this.chart.clear(),this.chart.fromJson(this.chartConfig),this.$message.success("The FlowChart Load Success!")):this.$message.error("The FlowChart Has Not Be Initiald")},clearChart:function(){this.chart?(this.chart.clear(),this.$message.success("The FlowChart Remove Success!")):this.$message.error("The FlowChart Has Not Be Initiald")}},created:function(){var e=this;r.default.ready(function(){e.chart=new r.default(e.$refs["flow-container"],{onNodeClick:function(e){console.log(e)}})})}}},P0XF:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("Zrlr"),r=a(o),s=n("wxAW"),i=a(s),l=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,null,[{key:"getUUID",get:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),e}();t.default=l},Rn3S:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("mvHQ"),r=a(o),s=n("MICi"),i=a(s),l=n("BO1k"),c=a(l),u=n("woOf"),d=a(u),f=n("Zrlr"),h=a(f),v=n("wxAW"),p=a(v),_=n("3eaK"),m=n("TuU3"),y=function(){function e(t,n,a,o,r,s){(0,h.default)(this,e),this._jsPlumb=null,this._container=null,this._id=t,this._name=n,this._x=o,this._y=r,this._clsName=s.class||"",this._data=s&&s.data||{},this._data.nodeId=t,this._data.nodeType=a,this._options=(0,d.default)({removable:!0},s),this._el=null,s&&s.container&&this.appendTo(s.container)}return(0,p.default)(e,[{key:"getId",value:function(){return this._id}},{key:"getData",value:function(){return this._data||{}}},{key:"getPos",value:function(){return{x:this._x,y:this._y}}},{key:"setPlumb",value:function(e){this._jsPlumb=e}},{key:"_px",value:function(e){return e+"px"}},{key:"appendTo",value:function(e){if(!e)return void console.error("node container is null !");var t=this,n=t._options,a=t._px,o=document.createElement("div");if(o.classList.add("window","task",""+t._clsName),o.setAttribute("id",t._id),o.style.left=a(t._x),o.style.top=a(t._y),o.innerHTML=t._name,m.cache.addData(o,"data",this._data),m.cache.addData(o,"node",this),n.removable){var r=document.createElement("div");r.classList.add("remove"),o.append(r)}e.append(o),this._jsPlumb.draggable(o,{grid:[10,10]}),this._el=o}},{key:"addPort",value:function(t){var n=t.position||"Bottom",a=e.anchorPos[n],o=!0,r=!1,s=void 0;try{for(var i,l=(0,c.default)(a);!(o=(i=l.next()).done);o=!0){var u=i.value,d={anchor:u,isSource:!!t.isSource,isTarget:!!t.isTarget,maxConnections:-1,overlays:[e.arrowStyle,["Label",{location:e.labelPos[n],label:t.label||""}]],allowLoopback:!1,dragAllowedWhenFull:t.dragAllowedWhenFull||!0};this._jsPlumb.addEndpoint(this._el,d)}}catch(e){r=!0,s=e}finally{try{!o&&l.return&&l.return()}finally{if(r)throw s}}}},{key:"updatePos",value:function(){var e=this._el;this._x=parseInt(e.style.left.toString().replace("px",""),10),this._y=parseInt(e.style.top.toString().replace("px",""),10)}},{key:"toPlainObj",value:function(){var e=this;e.updatePos();var t=(0,d.default)({},e._data);return t.nodeId=e._id,t.positionX=e._x,t.positionY=e._y,t.className=e._clsName,t.removable=e._options.removable,t}},{key:"dispose",value:function(){var e=this._el;this._jsPlumb.remove(e)}}],[{key:"lineStyle",get:function(){return{lineWidth:5,joinstyle:"round",strokeStyle:"#445566"}}},{key:"labelPos",get:function(){return{TopBottom:[6,2.5,6,-2.5],Bottom:[6,2.5],Top:[6,-2.5]}}},{key:"anchorPos",get:function(){return{TopBottom:["Top","Bottom"],Bottom:["Bottom"],Top:["Top"]}}},{key:"arrowStyle",get:function(){return["Arrow",{location:.7},{foldback:.7,width:12}]}}]),e}(),g=function(){function e(t,n){(0,h.default)(this,e),this._jsPlumb=null,this._container=t,this._nodes=[],this._seedName="flow-chart-node",this._seedId=0,this.init(n)}return(0,p.default)(e,[{key:"nodeId",value:function(){return this._seedName+this._seedId+++(new Date).valueOf()}},{key:"getNodes",value:function(){return this._nodes}},{key:"init",value:function(e){var t=this;this._jsPlumb=_.jsPlumb.getInstance();var n={DragOptions:{cursor:"pointer",zIndex:5e3},PaintStyle:{lineWidth:5,stroke:"#445566"},HoverPaintStyle:{stroke:"#ec9f2e",lineWidth:4},Endpoint:["Dot",{radius:5}],EndpointStyle:{radius:9,fill:"#acd",stroke:"red"},EndpointHoverStyle:{fill:"#ec9f2e",stroke:"#acd"},Anchors:["Bottom"],Connector:["Bezier",{curviness:50}],ConnectionOverlays:[y.arrowStyle]};this._jsPlumb.importDefaults(n),this._container&&(this._container.classList.add("flow-chart-canvas-lkiarest"),e&&e.onNodeClick&&this._container.addEventListener("click",function(n){var a=n.target;a.getAttribute("class").indexOf("task")>=0&&e.onNodeClick.call(t,a.getAttribute("node"))}),this._container.addEventListener("click",function(n){var a=m.cache.getData(n.target.parentElement,"node");if(a&&n.target.getAttribute("class").indexOf("remove")>=0){var o=a.getData(),r=a.getId();a.dispose(),t.removeNode(r),e&&e.onNodeDel&&e.onNodeDel.call(t,o)}n.stopPropagation()}))}},{key:"addNode",value:function(e,t,n,a){var o=a&&a.id||this.nodeId,r=a&&!(0,i.default)(a.nodeType)?a.nodeType:1,s=new y(o,e,r,t,n,a);s.setPlumb(this._jsPlumb),s.appendTo(this._container),this._nodes.push(s);var l=!1,c=!1,u="Bottom";switch(r){case 0:l=!0;break;case 2:c=!0,u="Top";break;default:l=!0,c=!0,u="TopBottom"}return s.addPort({isSource:l,isTarget:c,position:u,dragAllowedWhenFull:!0}),s}},{key:"removeNode",value:function(e){for(var t=this._nodes,n=0,a=t.length;n<a;n++){var o=t[n];if(o.getId()===e)return o.dispose(),t.splice(n,1),o}}},{key:"toJson",value:function(){var e=[];this._nodes.forEach(function(t){e.push(t.toPlainObj())});var t=this._jsPlumb.getConnections().map(function(e){return{connectionId:e.id,pageSourceId:e.sourceId,pageTargetId:e.targetId,anchors:e.endpoints.map(function(e){return e.anchor.type})}});return(0,r.default)({nodes:e,connections:t})}},{key:"fromJson",value:function(e){var t=this;if(!e||""===e)return void console.error("draw from json failed: empty json string");var n=null;try{n=JSON.parse(e)}catch(e){return void console.error("invalid json string",e)}this.clear();var a=n.nodes,o=n.connections;a&&a.forEach(function(e){var n=t.addNode(e.name,e.positionX,e.positionY,{class:e.className,removable:e.removable,id:e.nodeId,nodeType:e.nodeType,data:e});t._jsPlumb.repaint(n.getId())}),o&&o.forEach(function(e){t._jsPlumb.connect({source:e.pageSourceId,target:e.pageTargetId,anchors:e.anchors,deleteEndpointsOnDetach:!1})}),this._jsPlumb.repaintEverything()}},{key:"clear",value:function(){this._nodes&&this._nodes.forEach(function(e){e.dispose()}),this._nodes=[]}},{key:"dispose",value:function(){this.clear(),this._container.off("click"),this._container=null}}],[{key:"ready",value:function(e){_.jsPlumb.ready(e)}}]),e}();t.default=g},T8B5:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{attrs:{span:24}},[n("h1",[e._v("A Simple FlowChart Libary Base On JsPlumb")])])],1)},o=[],r={render:a,staticRenderFns:o};t.a=r},TuU3:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.cache=void 0;var o=n("XFB5"),r=a(o),s=n("Zrlr"),i=a(s),l=n("wxAW"),c=a(l),u=function(){function e(){(0,i.default)(this,e),this._caches=null,this.init()}return(0,c.default)(e,[{key:"init",value:function(){this._caches||(this._caches=new r.default)}},{key:"addData",value:function(e,t,n){var a=this._caches.get(e);return a||(a={},this._caches.set(e,a)),a[t]=n,a}},{key:"getData",value:function(e,t){var n=this._caches.get(e);return void 0===t?n:n&&n[t]}},{key:"removeData",value:function(e,t){var n=this._caches.get(e);n||(t?n[t]=void 0:n=void 0)}},{key:"clearData",value:function(){this._caches=new r.default}}]),e}();t.cache=new u},TwGY:function(e,t){},YaEn:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),r=a(o),s=n("/ocq"),i=a(s),l=n("9gGt"),c=a(l);r.default.use(i.default),t.default=new i.default({routes:[{path:"/",name:"Demo",component:c.default}]})},cBx5:function(e,t){},"f/wO":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{id:"app"}},[n("t-header"),e._v(" "),n("router-view"),e._v(" "),n("t-footer")],1)},o=[],r={render:a,staticRenderFns:o};t.a=r},ngp1:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{attrs:{span:24}},[n("h4",[e._v("A Simple FlowChart Libary Base On JsPlumb")]),e._v(" "),n("a",{attrs:{href:"https://github.com/lonly197/flowchartjs"}},[e._v("Host on GitHub")])])],1)},o=[],r={render:a,staticRenderFns:o};t.a=r},pGoM:function(e,t){},tvR6:function(e,t){},xJD8:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("GgDs"),r=a(o),s=n("9iUS"),i=a(s);t.default={name:"App",components:{"t-header":r.default,"t-footer":i.default}}}},["NHnr"]);
//# sourceMappingURL=app.b7f9d42ac16b34462efa.js.map